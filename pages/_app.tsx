import "../styles/globals.css";
import { Box, Button, ColorModeScript, useColorMode, Heading, Code, Text } from "@chakra-ui/react";
import type { AppProps } from "next/app";
import {
	ChakraProvider,
	extendTheme,
} from "@chakra-ui/react";
import { StepsStyleConfig as Steps } from "chakra-ui-steps";
import { MultiSelectTheme } from "../lib/chakra-multiselect";
import AdminLayout from "../layouts/admin";
import { useRouter } from "next/router";
import NavBar from "../components/NavBar";
import { mode } from "@chakra-ui/theme-tools";


const dark = "gray.800";
const light = "#eaeaea";

const theme = extendTheme({
	styles: {
		global: (props) => ({
			body: {
				bg: mode(light, dark)(props),
			}
		})
	},
	components: {
		Steps,
		MultiSelect: MultiSelectTheme,
	}
});

function DarkmodeToggle() {
	const { colorMode, toggleColorMode } = useColorMode();
	return (
		<header>
			<Button onClick={toggleColorMode}>
				Toggle {colorMode === "light" ? "Dark" : "Light"}
			</Button>
		</header>
	);
}


function MyApp({ Component, pageProps }: AppProps) {
	const router = useRouter();
	const isAdminRoute = router.pathname.startsWith("/admin");
	return (
		<>
			<ColorModeScript initialColorMode={theme.config.initialColorMode} />

			<div
				style={{
					overflow: "hidden",
					position: "absolute",
					maxWidth: "100vw",
					height: "100vh",
					left: "0px",
					top: "0px",
					right: "0px",
					bottom: "0px",
					zIndex: 20,
					opacity: 0.3,
					filter: "blur(5px, 2px)",
				}}
			>
				<div className="squareContainer">
					<div className="square"></div>
					<div className="square"></div>
					<div className="square"></div>
				</div>
				<svg
					style={{
						display: "block",
						zIndex: 2,
						position: "fixed",
						right: "-20em",
						bottom: "-120px",
					}}
					width="2573"
					height="1008"
					viewBox="0 0 2573 1008"
				>
					<g transform="translate(1286.5,504) scale(-1,-1) translate(-1286.5,-504)">
						<linearGradient
							id="lg-0.03473517776793256"
							x1="0"
							x2="1"
							y1="0"
							y2="0"
						>
							<stop stopColor="#ec0868" offset="0"></stop>
							<stop stopColor="#c200fb" offset="1"></stop>
						</linearGradient>
						<path d="" fill="url(#lg-0.03473517776793256)" opacity="0.19">
							<animate
								attributeName="d"
								dur="100s"
								repeatCount="indefinite"
								keyTimes="0;0.333;0.667;1"
								calcMode="spline"
								keySplines="0.5 0 0.5 1;0.5 0 0.5 1;0.5 0 0.5 1"
								begin="0s"
								values="M0 0L 0 605.1706961768582Q 160.8125 544.5925711708121  321.625 503.22454517223844T 643.25 369.6204590336361T 964.875 131.51915009894776T 1286.5 86.1558033890027T 1608.125 -109.9758159831731T 1929.75 -323.4929929772312T 2251.375 -555.026063248631T 2573 -580.3314962450629L 2573 0 Z;M0 0L 0 675.9824104132283Q 160.8125 523.1514250126726  321.625 491.57490900725725T 643.25 216.94149962338219T 964.875 89.56600326336502T 1286.5 -159.15629588200625T 1608.125 -321.14777188718017T 1929.75 -470.79155445287324T 2251.375 -755.9464674765645T 2573 -905.6988902159688L 2573 0 Z;M0 0L 0 651.0878866056077Q 160.8125 463.1373180271098  321.625 446.02582038272016T 643.25 336.2612335867411T 964.875 80.38419208764913T 1286.5 -46.34832784835544T 1608.125 -207.28301420283276T 1929.75 -338.32201270775465T 2251.375 -623.2004965665127T 2573 -719.0800118186517L 2573 0 Z;M0 0L 0 605.1706961768582Q 160.8125 544.5925711708121  321.625 503.22454517223844T 643.25 369.6204590336361T 964.875 131.51915009894776T 1286.5 86.1558033890027T 1608.125 -109.9758159831731T 1929.75 -323.4929929772312T 2251.375 -555.026063248631T 2573 -580.3314962450629L 2573 0 Z"
							></animate>
						</path>
						<path d="" fill="url(#lg-0.03473517776793256)" opacity="0.19">
							<animate
								attributeName="d"
								dur="100s"
								repeatCount="indefinite"
								keyTimes="0;0.333;0.667;1"
								calcMode="spline"
								keySplines="0.5 0 0.5 1;0.5 0 0.5 1;0.5 0 0.5 1"
								begin="-16.666666666666668s"
								values="M0 0L 0 654.6073198609969Q 160.8125 592.8209451171986  321.625 558.8016544038462T 643.25 275.06110566361264T 964.875 154.14713722888655T 1286.5 56.70549893627128T 1608.125 -187.7480869906717T 1929.75 -327.36105732297835T 2251.375 -525.7131952960141T 2573 -615.5162592559697L 2573 0 Z;M0 0L 0 659.7704889007978Q 160.8125 439.013621548059  321.625 419.3976061804333T 643.25 290.6834520117191T 964.875 97.44963910697902T 1286.5 -73.17902324131796T 1608.125 -382.392902296128T 1929.75 -529.2095328974543T 2251.375 -652.6290309090634T 2573 -888.5407578252745L 2573 0 Z;M0 0L 0 615.4765249500231Q 160.8125 609.2002378292889  321.625 571.8684140817093T 643.25 409.9781115219142T 964.875 169.4307134234415T 1286.5 -17.453958197999896T 1608.125 -236.50878279994856T 1929.75 -284.21515891737783T 2251.375 -526.4136362599314T 2573 -637.0833706291149L 2573 0 Z;M0 0L 0 654.6073198609969Q 160.8125 592.8209451171986  321.625 558.8016544038462T 643.25 275.06110566361264T 964.875 154.14713722888655T 1286.5 56.70549893627128T 1608.125 -187.7480869906717T 1929.75 -327.36105732297835T 2251.375 -525.7131952960141T 2573 -615.5162592559697L 2573 0 Z"
							></animate>
						</path>
						<path d="" fill="url(#lg-0.03473517776793256)" opacity="0.19">
							<animate
								attributeName="d"
								dur="100s"
								repeatCount="indefinite"
								keyTimes="0;0.333;0.667;1"
								calcMode="spline"
								keySplines="0.5 0 0.5 1;0.5 0 0.5 1;0.5 0 0.5 1"
								begin="-33.333333333333336s"
								values="M0 0L 0 659.3268329383385Q 160.8125 549.0218202981367  321.625 521.5554377002076T 643.25 223.75307809559177T 964.875 59.405452261321784T 1286.5 -76.50778787581874T 1608.125 -262.0137056966604T 1929.75 -566.5298433068778T 2251.375 -749.5978662656132T 2573 -877.930000393918L 2573 0 Z;M0 0L 0 619.2423601090791Q 160.8125 520.4214912165048  321.625 501.69228417031775T 643.25 245.93555121808157T 964.875 76.39747836456957T 1286.5 -140.27414994099308T 1608.125 -219.02976166658198T 1929.75 -491.3365816768271T 2251.375 -607.2905605456554T 2573 -829.1019239326001L 2573 0 Z;M0 0L 0 666.1214369232877Q 160.8125 541.8278602801689  321.625 513.5896720853602T 643.25 388.28862100621194T 964.875 215.21271886708007T 1286.5 -30.249288040360284T 1608.125 -237.23631909618223T 1929.75 -285.5078483712126T 2251.375 -571.711597756285T 2573 -653.7461347400725L 2573 0 Z;M0 0L 0 659.3268329383385Q 160.8125 549.0218202981367  321.625 521.5554377002076T 643.25 223.75307809559177T 964.875 59.405452261321784T 1286.5 -76.50778787581874T 1608.125 -262.0137056966604T 1929.75 -566.5298433068778T 2251.375 -749.5978662656132T 2573 -877.930000393918L 2573 0 Z"
							></animate>
						</path>
						<path d="" fill="url(#lg-0.03473517776793256)" opacity="0.19">
							<animate
								attributeName="d"
								dur="100s"
								repeatCount="indefinite"
								keyTimes="0;0.333;0.667;1"
								calcMode="spline"
								keySplines="0.5 0 0.5 1;0.5 0 0.5 1;0.5 0 0.5 1"
								begin="-50s"
								values="M0 0L 0 640.1510168111133Q 160.8125 465.8283246708914  321.625 425.601634405314T 643.25 220.86384207732794T 964.875 154.60043609133572T 1286.5 -92.59263605334615T 1608.125 -292.6423578766056T 1929.75 -538.6121358414604T 2251.375 -641.7311738946449T 2573 -816.6036325365365L 2573 0 Z;M0 0L 0 710.0412262898849Q 160.8125 559.7694779251204  321.625 539.3373345694672T 643.25 342.4508909464949T 964.875 152.7705520023087T 1286.5 -52.295220597743196T 1608.125 -160.1567965907651T 1929.75 -351.4192715243014T 2251.375 -504.35927500616447T 2573 -760.4733132665357L 2573 0 Z;M0 0L 0 627.5863444964767Q 160.8125 523.9723518404132  321.625 479.4530087552657T 643.25 286.2491939654248T 964.875 140.75438558454744T 1286.5 -126.94539216403598T 1608.125 -264.54620839388394T 1929.75 -401.3899858613521T 2251.375 -602.2166357839758T 2573 -914.6046803535352L 2573 0 Z;M0 0L 0 640.1510168111133Q 160.8125 465.8283246708914  321.625 425.601634405314T 643.25 220.86384207732794T 964.875 154.60043609133572T 1286.5 -92.59263605334615T 1608.125 -292.6423578766056T 1929.75 -538.6121358414604T 2251.375 -641.7311738946449T 2573 -816.6036325365365L 2573 0 Z"
							></animate>
						</path>
						<path d="" fill="url(#lg-0.03473517776793256)" opacity="0.19">
							<animate
								attributeName="d"
								dur="100s"
								repeatCount="indefinite"
								keyTimes="0;0.333;0.667;1"
								calcMode="spline"
								keySplines="0.5 0 0.5 1;0.5 0 0.5 1;0.5 0 0.5 1"
								begin="-66.66666666666667s"
								values="M0 0L 0 718.4991833884797Q 160.8125 528.6183901087547  321.625 481.5394183030538T 643.25 292.20400189783413T 964.875 145.65326601218612T 1286.5 -45.462662726948565T 1608.125 -199.84746832487463T 1929.75 -507.021875179827T 2251.375 -696.3390642321974T 2573 -860.9670334342422L 2573 0 Z;M0 0L 0 669.8174120242656Q 160.8125 542.023675947684  321.625 505.4589687482622T 643.25 278.73061676340285T 964.875 177.61102552652324T 1286.5 -41.70172651871815T 1608.125 -221.26411060437158T 1929.75 -527.4964994396671T 2251.375 -697.9000399929416T 2573 -852.053082171615L 2573 0 Z;M0 0L 0 621.6764062148136Q 160.8125 482.0111918833328  321.625 456.1046422226193T 643.25 282.7334399998096T 964.875 83.21868523272337T 1286.5 -0.6644879613896819T 1608.125 -225.59107017864153T 1929.75 -391.02971156454805T 2251.375 -682.873675232284T 2573 -876.3008923598991L 2573 0 Z;M0 0L 0 718.4991833884797Q 160.8125 528.6183901087547  321.625 481.5394183030538T 643.25 292.20400189783413T 964.875 145.65326601218612T 1286.5 -45.462662726948565T 1608.125 -199.84746832487463T 1929.75 -507.021875179827T 2251.375 -696.3390642321974T 2573 -860.9670334342422L 2573 0 Z"
							></animate>
						</path>
						<path d="" fill="url(#lg-0.03473517776793256)" opacity="0.19">
							<animate
								attributeName="d"
								dur="100s"
								repeatCount="indefinite"
								keyTimes="0;0.333;0.667;1"
								calcMode="spline"
								keySplines="0.5 0 0.5 1;0.5 0 0.5 1;0.5 0 0.5 1"
								begin="-83.33333333333333s"
								values="M0 0L 0 743.0727679088661Q 160.8125 498.72964432870833  321.625 463.01078473730985T 643.25 406.46805885577544T 964.875 94.68587619478251T 1286.5 42.87356144476826T 1608.125 -162.98708390833258T 1929.75 -329.18466886014824T 2251.375 -511.1134484763769T 2573 -756.5650944175588L 2573 0 Z;M0 0L 0 648.8169811371977Q 160.8125 532.7293074843672  321.625 485.38193003692356T 643.25 373.9435864799871T 964.875 136.52403299512798T 1286.5 -93.19088742616123T 1608.125 -274.35860622934047T 1929.75 -518.619290679949T 2251.375 -713.4295025175763T 2573 -872.6342915281186L 2573 0 Z;M0 0L 0 647.3262617545587Q 160.8125 559.8600584953485  321.625 522.1093983364849T 643.25 309.76533042334535T 964.875 178.8020978246302T 1286.5 -19.8382013239476T 1608.125 -254.16275008411674T 1929.75 -399.67828970612163T 2251.375 -641.1388980879609T 2573 -894.9815900600561L 2573 0 Z;M0 0L 0 743.0727679088661Q 160.8125 498.72964432870833  321.625 463.01078473730985T 643.25 406.46805885577544T 964.875 94.68587619478251T 1286.5 42.87356144476826T 1608.125 -162.98708390833258T 1929.75 -329.18466886014824T 2251.375 -511.1134484763769T 2573 -756.5650944175588L 2573 0 Z"
							></animate>
						</path>
					</g>
				</svg>
			</div>
			<div
				style={{
					position: "absolute",
					left: "0px",
					top: "0px",
					right: "0px",
					bottom: "0px",
					height: "100vh",
					maxWidth: "100vw",
					zIndex: 20,
				}}
			>
				<ChakraProvider theme={theme}>
					<Box position="fixed" zIndex={200} bottom="14px" left="14px">
						<DarkmodeToggle />
					</Box>
					{/* {isAdminRoute ? ( */}
					{/* <AdminLayout> */}
					{/* <Component {...pageProps}></Component> */}
					{/* </AdminLayout> */}
					{/* ) : ( */}
					<>
						<NavBar></NavBar>
						<Component {...pageProps} />
					</>
					{/* )} */}
				</ChakraProvider>
			</div>
		</>
	);
}

export default MyApp;
